!function(o){function t(n){if(e[n])return e[n].exports;var s=e[n]={exports:{},id:n,loaded:!1};return o[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var e={};return t.m=o,t.c=e,t.p="",t(0)}([function(o,t){$(function(){var o=[],t=($("#mongo_list"),$("#new_todo"));t.prop("required",!1);var e=function(o,t){this.todo=o,this._id=t};!function(){$.ajax({type:"GET",url:"/api/get_todos",datatype:"json",success:function(t){console.log('Mongo says: "Got it"');for(var n=0;n<t.length;n++)JSON.parse(o.push(new e(t[n].todo,t[n]._id)));console.log(t),console.log(o)},error:function(){console.log('MongoDB says: "eff u!"')},complete:function(){for(var t=0;t<o.length;t++){var e=o[t].todo,n=o[t]._id,s='<li id="'+n+'"><textarea disabled id="">'+e+'</textarea><section class="todo-toggles"><button id="edit" class="toggle-edit">edit</button><button id="save" class="toggle-edit-save">save</button><button id="delete" class="toggle-delete">del</button></section></li>';$("#mongo_list").append(s)}}})}(),$("#todo_maker").submit(function(o){o.preventDefault(),console.log(t.val());var n=new e(t.val()),s=JSON.stringify(n,["todo"]);console.log(s),$("input:text").val(""),$.ajax({type:"POST",url:"api/create_todos",data:s,datatype:"json",contentType:"application/json",success:function(o){console.log("Sent!");var t=o.todo,e=o._id,n='<li id="'+e+'"><textarea disabled id="">'+t+'</textarea><section class="todo-toggles"><button id="edit" class="toggle-edit">edit</button><button id="save" class="toggle-edit-save">save</button><button id="delete" class="toggle-delete">del</button></section></li>';$("#mongo_list").append(n)},error:function(){console.log("sucks dude")}})}),$(mongo_list).on("click",".toggle-delete",function(){var o=$(this).parents("li").attr("id");$(this).parents("li").remove();var t={_id:o};console.log(t),console.log(o);var e=JSON.stringify(t);$.ajax({type:"DELETE",url:"api/remove_todos",data:e,contentType:"application/json",success:function(){console.log("deleted")},error:function(){console.log("That did not go through")}})}),$(mongo_list).on("click",".toggle-edit",function(){var o=$(this).parent().prev();o.prop("disabled",!1)}),$(mongo_list).on("click",".toggle-edit-save",function(){$("textarea").prop("disabled",!0);var o=$(this).parent().prev().val(),t=$(this).parents("li").attr("id");console.log(t),console.log(o);var e={todo:o,_id:t},n=JSON.stringify(e);console.log(n),$.ajax({type:"PUT",url:"api/update_todos",data:n,datatype:"json",contentType:"application/json",success:function(o){console.log(o)},error:function(){console.log("no good")}})})})}]);